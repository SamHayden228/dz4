import unittest
import xml.etree.ElementTree as ET
import re
from io import StringIO
import sys
import os
import dz4
import tempfile


class TestDz3(unittest.TestCase):



    def test_comm_35(self):
        s =dz4.assmb( "0xE3, 0x03, 0x80, 0xEF, 0x00, 0x00, 0x00, 0x00 ")
        memory, commands = dz4.work(s)

        self.assertEqual(memory[15], 479)
    def test_comm_58(self):
        s =dz4.assmb( "0x23, 0x00, 0x00, 0x08, 0x00, 0x00, 0x00, 0x00,0xFA, 0x32, 0x00, 0x72, 0x00, 0x00, 0x00, 0x00 ")
        memory, commands = dz4.work(s)

        self.assertEqual(memory[203], 16)
    def test_comm_16(self):
        s =dz4.assmb( "0xA3, 0x4B, 0x00, 0x21, 0x00, 0x00, 0x00, 0x00,0x50, 0x04, 0x00, 0x97, 0x00, 0x00, 0x00, 0x00  ")
        memory, commands = dz4.work(s)

        self.assertEqual(memory[0], 66)

    def test_comm_54(self):
        s = dz4.assmb(
            "0xA3, 0xCB, 0x80, 0x07, 0x00, 0x00, 0x00, 0x00,0xA3, 0xA8, 0x80, 0x07, 0x00, 0x00, 0x00, 0x00,0x76, 0x4E, 0x00, 0x97, 0x01, 0x7E, 0x02, 0x48   ")
        memory, commands = dz4.work(s)

        self.assertEqual(memory[313], 1)

if __name__ == "__main__":
    unittest.main()